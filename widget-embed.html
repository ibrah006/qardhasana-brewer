<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <!-- <div id="qardhasana-widget"></div> -->
      <!-- <script src="https://www.qardhasana.com/_api/widget?hostIdentifier=user_10"></script> -->
      <script>
        // Set the host identifier manually for demo
        const hostIdentifier = "DemoOrganization";
      </script>
    <script>(function () {
      "use strict";

      // --- START: CSS for the widget ---
      const css = `
        /* Trigger Button Styles */
        #qardhasana-trigger-button {
          all: initial;
          position: fixed;
          bottom: 24px;
          right: 24px;
          z-index: 999999;
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        
        #qardhasana-trigger-button button {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 14px 24px;
          background: linear-gradient(135deg, #15803d 0%, #16a34a 100%);
          color: white;
          border: none;
          border-radius: 50px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          box-shadow: 0 8px 24px rgba(21, 128, 61, 0.4);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          font-family: inherit;
        }
        
        #qardhasana-trigger-button button:hover {
          transform: translateY(-2px);
          box-shadow: 0 12px 32px rgba(21, 128, 61, 0.5);
          background: linear-gradient(135deg, #166534 0%, #15803d 100%);
        }
        
        #qardhasana-trigger-button button:active {
          transform: translateY(0);
        }
        
        #qardhasana-trigger-button svg {
          animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          10%, 30% { transform: scale(1.1); }
          20%, 40% { transform: scale(1); }
        }

        /* Modal Overlay */
        #qardhasana-modal-overlay {
          all: initial;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(4px);
          z-index: 1000000;
          display: flex;
          align-items: center;
          justify-content: center;
          opacity: 0;
          transition: opacity 0.3s ease;
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        
        #qardhasana-modal-overlay.show {
          opacity: 1;
        }

        /* Modal Container */
        #qardhasana-widget-container {
          all: initial;
          font-family: 'Inter', sans-serif;
          font-size: 16px;
          background: linear-gradient(to bottom, #ffffff 0%, #f8fffe 100%);
          border-radius: 20px;
          max-width: 480px;
          width: 90%;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
          position: relative;
          transform: scale(0.9);
          transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #qardhasana-modal-overlay.show #qardhasana-widget-container {
          transform: scale(1);
        }
        
        #qardhasana-widget {
      width: 425px
    }
  
    #qardhasana-widget-container {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      font-size: 16px;
      color: #1a202c;
      background: linear-gradient(to bottom, #f9fafb 0%, #f3f4f6 100%);
      border-radius: 16px;
      padding: 48px 32px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      max-width: 500px;
      margin: 0 auto;
      box-sizing: border-box;
      text-align: center;
    }
    
    #qardhasana-widget-container * {
      box-sizing: border-box;
    }

    .widget-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 24px;
      background: linear-gradient(135deg, #3d7a77 0%, #2d5f5d 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
    }

    .widget-title {
      font-size: 32px;
      font-weight: 700;
      color: #1a202c;
      margin: 0 0 12px 0;
      line-height: 1.2;
    }

    .widget-subtitle {
      font-size: 18px;
      color: #6b7280;
      margin: 0 0 32px 0;
      line-height: 1.5;
    }

    .donation-card {
      background: white;
      border-radius: 16px;
      padding: 32px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      margin-bottom: 16px;
    }

    .card-title {
      font-size: 22px;
      font-weight: 700;
      color: #3d7a77;
      margin: 0 0 8px 0;
    }

    .card-description {
      font-size: 16px;
      color: #6b7280;
      margin: 0 0 24px 0;
      line-height: 1.6;
    }

    .form-group {
      margin-bottom: 24px;
      text-align: left;
    }

    .form-label {
      display: block;
      font-size: 16px;
      font-weight: 600;
      color: #1a202c;
      margin-bottom: 8px;
    }

    .form-input {
      width: 100%;
      padding: 14px 16px;
      font-size: 16px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      background: #f9fafb;
      color: #1a202c;
      transition: all 0.2s;
      font-family: inherit;
    }

    .form-input:focus {
      outline: none;
      border-color: #3d7a77;
      background: white;
    }

    .form-input::placeholder {
      color: #9ca3af;
    }

    .checkbox-container {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 24px;
      text-align: left;
    }

    .checkbox-input {
      width: 20px;
      height: 20px;
      margin-top: 2px;
      cursor: pointer;
      flex-shrink: 0;
    }

    .checkbox-label {
      font-size: 14px;
      color: #4b5563;
      line-height: 1.5;
      cursor: pointer;
    }

    .submit-button {
      width: 100%;
      background: linear-gradient(135deg, #3d7a77 0%, #2d5f5d 100%);
      color: white;
      padding: 16px;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      font-family: inherit;
    }

    .submit-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(61, 122, 119, 0.3);
    }

    .submit-button:active {
      transform: translateY(0);
    }
      `;

      const styleSheet = document.createElement("style");
      styleSheet.innerText = css;
      document.head.appendChild(styleSheet);
      // --- END: CSS for the widget ---

      // --- START: Widget rendering logic ---
      function renderWidget() {
        // Create trigger button
        const triggerContainer = document.createElement("div");
        triggerContainer.id = "qardhasana-trigger-button";
        triggerContainer.innerHTML = `
          <button type="button">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
            Donate
          </button>
        `;
        document.body.appendChild(triggerContainer);

        // Create modal
        const modalOverlay = document.createElement("div");
        modalOverlay.id = "qardhasana-modal-overlay";
        modalOverlay.style.display = "none";

        const donationUrl = `https://example.com/donate/${encodeURIComponent(hostIdentifier)}`;

        modalOverlay.innerHTML = `
          <div id="qardhasana-widget-container">
        <div class="widget-icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="white"/>
          </svg>
        </div>

        <h1 class="widget-title">Support sample</h1>
        <p class="widget-subtitle">Your contribution helps cover their monthly overheads.</p>

        <div class="donation-card">
          <h2 class="card-title">Donate with QardHasana</h2>
          <p class="card-description">Support this cause with a donation. Your contribution is valued.</p>

          <form id="donation-form">
            <div class="form-group">
              <label class="form-label" for="amount">Amount (USD)</label>
              <input 
                type="number" 
                id="amount" 
                class="form-input" 
                placeholder="Enter amount between $10 and $500"
                min="10"
                max="500"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label" for="name">Name (Optional)</label>
              <input 
                type="text" 
                id="name" 
                class="form-input" 
                placeholder="Your name"
              />
            </div>

            <div class="checkbox-container">
              <input 
                type="checkbox" 
                id="donation-intent" 
                class="checkbox-input"
                required
              />
              <label for="donation-intent" class="checkbox-label">
                I am donating purely out of admiration and willingness to help, not for profit.
              </label>
            </div>

            <button type="submit" class="submit-button">
              Proceed to Payment
            </button>
          </form>
        </div>
      </div>
        `;

        // test
        document.body.appendChild(modalOverlay);

        // Open and close modal
        function openModal() {
          modalOverlay.style.display = "flex";
          setTimeout(() => modalOverlay.classList.add("show"), 10);
        }
        function closeModal() {
          modalOverlay.classList.remove("show");
          setTimeout(() => (modalOverlay.style.display = "none"), 300);
        }
        function donate() {
          window.open(donationUrl, "_blank");
          closeModal();
        }

        triggerContainer.querySelector("button").addEventListener("click", openModal);
        modalOverlay.querySelector(".close-button").addEventListener("click", closeModal);
        modalOverlay.querySelector(".donate-button").addEventListener("click", donate);
      }

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", renderWidget);
      } else {
        renderWidget();
      }
    })();
    </script>
    <script src="https://6c5bb5fd-7bfa-4a23-b0b2-324b6c0bca42.sandbox.floot.app/_api/widget?hostIdentifier=user_8&assetId="></script>
</body>
</html>